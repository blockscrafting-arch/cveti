# CVETi Beauty Studio Bot üå∏

–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ –∏ –æ–Ω–ª–∞–π–Ω-–∑–∞–ø–∏—Å–∏ –¥–ª—è —Å—Ç—É–¥–∏–∏ –∫—Ä–∞—Å–æ—Ç—ã –¶–í–ï–¢–ò. Telegram –±–æ—Ç + Mini App + –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å YCLIENTS.

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –∏ —Å–ø–∏—Å–∞–Ω–∏–µ –±–æ–Ω—É—Å–æ–≤ (–∫—ç—à–±—ç–∫ 5%, –æ–ø–ª–∞—Ç–∞ –¥–æ 30% –±–æ–Ω—É—Å–∞–º–∏).
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å YCLIENTS:** –ï–¥–∏–Ω—ã–π –±–∞–ª–∞–Ω—Å –±–∞–ª–ª–æ–≤ –∏ –∞–∫—Ç—É–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–µ–Ω—Ç–µ.
- **–û–Ω–ª–∞–π–Ω-–∑–∞–ø–∏—Å—å:** –£–¥–æ–±–Ω–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ª—É–≥ —á–µ—Ä–µ–∑ Mini App.
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–º:** –ü—Ä–æ—Å–º–æ—Ç—Ä –±–∞–ª–∞–Ω—Å–∞, –∏—Å—Ç–æ—Ä–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ —Å—Ç–∞—Ç—É—Å–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏.
- **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Å—Ç–µ—Ä–∞–º–∏, —É—Å–ª—É–≥–∞–º–∏, –∞–∫—Ü–∏—è–º–∏ –∏ —Ä–∞—Å—Å—ã–ª–∫–∞–º–∏ –ø—Ä—è–º–æ –≤ –±–æ—Ç–µ.
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Self-hosted Supabase –¥–ª—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è –§–ó-152.

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **–Ø–∑—ã–∫:** Python 3.12+
- **–§—Ä–µ–π–º–≤–æ—Ä–∫:** FastAPI (API & Webhooks)
- **–ë–æ—Ç:** Aiogram 3.x
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** Supabase (PostgreSQL)
- **–•—Ä–∞–Ω–∏–ª–∏—â–µ:** Supabase Storage (S3 API)
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** YCLIENTS REST API
- **–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ:** Docker & Docker Compose
- **–ü—Ä–æ–∫—Å–∏:** Caddy (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π HTTPS)

## üì¶ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–º–µ—Ä–∞:

```bash
cp .env.example .env
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (API —Ç–æ–∫–µ–Ω—ã, URL –ë–î –∏ —Ç.–¥.).

### 2. –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

```bash
docker compose up -d --build
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±—Ö—É–∫–æ–≤

–î–ª—è —Ä–∞–±–æ—Ç—ã Telegram –±–æ—Ç–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ—Ç YCLIENTS –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –≤–µ–±—Ö—É–∫–∏ –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω:
- Telegram: `https://your-domain.ru/webhook/telegram`
- YCLIENTS: `https://your-domain.ru/webhook/yclients`

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Beget (VPS + PostgreSQL DBaaS + S3): `docs/beget-runbook.md`

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –§–ó-152

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ (Self-hosted Supabase) –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –†–§.

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π –¥–ª—è —Å—Ç—É–¥–∏–∏ –∫—Ä–∞—Å–æ—Ç—ã –¶–í–ï–¢–ò.
