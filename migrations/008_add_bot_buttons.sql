-- ะขะฐะฑะปะธัะฐ ะดะปั ะบะฝะพะฟะพะบ ะฑะพัะฐ ะธ ะธั ัะพะดะตัะถะธะผะพะณะพ
CREATE TABLE IF NOT EXISTS bot_buttons (
    id BIGSERIAL PRIMARY KEY,
    button_text VARCHAR(200) NOT NULL UNIQUE, -- ะขะตะบัั ะบะฝะพะฟะบะธ (ะฝะฐะฟัะธะผะตั "๐ ะะฐะฟะธัะฐัััั")
    response_text TEXT NOT NULL, -- ะขะตะบัั ะพัะฒะตัะฐ ะฟัะธ ะฝะฐะถะฐัะธะธ
    handler_type VARCHAR(50), -- ะขะธะฟ ะพะฑัะฐะฑะพััะธะบะฐ: 'book', 'info', 'profile', 'admin'
    row_number INT DEFAULT 1, -- ะะพะผะตั ัััะพะบะธ ะฒ ะผะตะฝั
    order_in_row INT DEFAULT 0, -- ะะพััะดะพะบ ะฒ ัััะพะบะต
    is_admin_only BOOLEAN DEFAULT FALSE, -- ะขะพะปัะบะพ ะดะปั ะฐะดะผะธะฝะพะฒ
    is_active BOOLEAN DEFAULT TRUE, -- ะะบัะธะฒะฝะฐ ะปะธ ะบะฝะพะฟะบะฐ
    web_app_url TEXT, -- ะะฟัะธะพะฝะฐะปัะฝัะน URL ะดะปั WebApp
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

CREATE INDEX IF NOT EXISTS idx_bot_buttons_handler ON bot_buttons(handler_type);
CREATE INDEX IF NOT EXISTS idx_bot_buttons_row_order ON bot_buttons(row_number, order_in_row);
CREATE INDEX IF NOT EXISTS idx_bot_buttons_active ON bot_buttons(is_active);

-- ะััะฐะฒะปัะตะผ ะฝะฐัะฐะปัะฝัะต ะดะฐะฝะฝัะต ะดะปั ะบะฝะพะฟะพะบ
INSERT INTO bot_buttons (button_text, response_text, handler_type, row_number, order_in_row, is_admin_only) VALUES
('๐ ะะฐะฟะธัะฐัััั', '๐ **ะะฝะปะฐะนะฝ-ะทะฐะฟะธัั**\n\nะะฐะถะผะธัะต ะบะฝะพะฟะบั ะฝะธะถะต, ััะพะฑั ะพัะบัััั ะบะฐะปะตะฝะดะฐัั ะทะฐะฟะธัะธ:', 'book', 1, 0, FALSE),
('๐ค ะะพะน ะฟัะพัะธะปั', '๐ค **ะะพะน ะฟัะพัะธะปั**\n\nะัะพะฒะตัััะต ัะฒะพะน ะฑะฐะปะฐะฝั ะฑะฐะปะปะพะฒ ะธ ะธััะพัะธั ััะฐะฝะทะฐะบัะธะน.', 'profile', 2, 0, FALSE),
('๐ธ ะะฐัะธ ััะปัะณะธ', '๐ธ **ะะฐัะธ ััะปัะณะธ**\n\nโจ ะั ะฟัะตะดะปะฐะณะฐะตะผ ะฟะพะปะฝัะน ัะฟะตะบัั ััะปัะณ ะดะปั ะฒะฐัะตะน ะบัะฐัะพัั:\n\n๐โโ๏ธ ะกััะธะถะบะธ ะธ ัะบะปะฐะดะบะธ\n๐ ะะฐะฝะธะบัั ะธ ะฟะตะดะธะบัั\n๐โโ๏ธ ะะพัะผะตัะพะปะพะณะธั\n๐จ ะะบัะฐัะธะฒะฐะฝะธะต\nโจ ะ ะผะฝะพะณะพะต ะดััะณะพะต\n\n๐ฑ ะัะบัะพะนัะต ะฟะพะปะฝัะน ะบะฐัะฐะปะพะณ ั ัะตะฝะฐะผะธ ะธ ะพะฟะธัะฐะฝะธัะผะธ ะฒ Mini App', 'info', 2, 1, FALSE),
('๐ ะะพะฝััั', '๐ **ะัะพะณัะฐะผะผะฐ ะปะพัะปัะฝะพััะธ ะฆะะะขะ**\n\n๐ฐ **ะััะฑะตะบ:** {LOYALTY_PERCENTAGE}% ะพั ััะผะผั ัะตะบะฐ\n\nโจ **ะะฐะบ ััะพ ัะฐะฑะพัะฐะตั:**\n1. ะะฐะฟะธััะฒะฐะนัะตัั ะฝะฐ ััะปัะณะธ\n2. ะะฟะปะฐัะธะฒะฐะนัะต ะฒะธะทะธั\n3. ะะพะปััะฐะนัะต ะฑะฐะปะปั ะฐะฒัะพะผะฐัะธัะตัะบะธ\n4. ะัะฟะพะปัะทัะนัะต ะฑะฐะปะปั ะดะปั ะพะฟะปะฐัั ััะปัะณ\n\n๐ **ะฃัะพะฒะฝะธ:**\nโข **New** โ ะฝะพะฒัะน ะบะปะธะตะฝั\nโข **Regular** โ ะฟะพััะพัะฝะฝัะน ะบะปะธะตะฝั\nโข **VIP** โ ะพัะพะฑัะน ััะฐััั\n\n๐ ะัะพะฒะตัััะต ัะฒะพะน ะฑะฐะปะฐะฝั ะฒ ัะฐะทะดะตะปะต ยซ๐ค ะะพะน ะฟัะพัะธะปัยป', 'info', 3, 0, FALSE),
('๐ ะะพะฝัะฐะบัั', '๐ **ะะพะฝัะฐะบัั ัััะดะธะธ ะบัะฐัะพัั ะฆะะะขะ**\n\n๐ข **ะะดัะตั:**\nะฃัะพัะฝัะตััั (ะฑัะดะตั ะดะพะฑะฐะฒะปะตะฝ)\n\n๐ **ะะตะถะธะผ ัะฐะฑะพัั:**\nะะฝ-ะั: 10:00 - 21:00\n\n๐ **ะขะตะปะตัะพะฝ:**\nะฃัะพัะฝัะตััั (ะฑัะดะตั ะดะพะฑะฐะฒะปะตะฝ)\n\n๐ฌ **ะะฝะปะฐะนะฝ-ะทะฐะฟะธัั:**\n[ะะฐะฟะธัะฐัััั ะฝะฐ ะฟัะธะตะผ]({YCLIENTS_BOOKING_URL})', 'info', 3, 1, FALSE),
('๐ฌ ะะพะดะดะตัะถะบะฐ', '๐ฌ **ะะพะดะดะตัะถะบะฐ**\n\nะั ะฒัะตะณะดะฐ ะณะพัะพะฒั ะฟะพะผะพัั ะฒะฐะผ!\n\n๐ **ะกะฟะพัะพะฑั ัะฒัะทะธ:**\nโข ะงะตัะตะท ะพะฝะปะฐะนะฝ-ะทะฐะฟะธัั\nโข ะะฐะฟะธัะธัะต ะฝะฐะผ ะฒ Telegram\n\nโ **ะงะฐัััะต ะฒะพะฟัะพัั:**\nโข ะะฐะฟะธัั: ะธัะฟะพะปัะทัะนัะต ะบะฝะพะฟะบั ยซ๐ ะะฐะฟะธัะฐััััยป\nโข ะะฐะปะฐะฝั ะฑะฐะปะปะพะฒ: ัะผะพััะธัะต ะฒ ยซ๐ค ะะพะน ะฟัะพัะธะปัยป\nโข ะัะพะณัะฐะผะผะฐ ะปะพัะปัะฝะพััะธ: ัะฐะทะดะตะป ยซ๐ ะะพะฝัััยป\n\n๐ **ะะตะถะธะผ ัะฐะฑะพัั:**\nะะฝ-ะั: 10:00 - 21:00', 'info', 4, 0, FALSE),
('โ๏ธ ะะดะผะธะฝะบะฐ', 'โ๏ธ **ะะดะผะธะฝ-ะฟะฐะฝะตะปั**\n\nะะปั ัะฟัะฐะฒะปะตะฝะธั ัะธััะตะผะพะน ะธัะฟะพะปัะทัะนัะต Mini App:\n1. ะัะบัะพะนัะต ยซ๐ค ะะพะน ะฟัะพัะธะปัยป\n2. ะะฐะถะผะธัะต ยซ๐ฑ ะัะบัััั Mini Appยป\n3. ะะตัะตะนะดะธัะต ะฒ ัะฐะทะดะตะป ยซโ๏ธ ะะดะผะธะฝ-ะฟะฐะฝะตะปัยป\n\n๐ **ะะพัััะฟะฝัะต ััะฝะบัะธะธ:**\nโข ะฃะฟัะฐะฒะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ\nโข ะฃะฟัะฐะฒะปะตะฝะธะต ะผะฐััะตัะฐะผะธ\nโข ะฃะฟัะฐะฒะปะตะฝะธะต ััะปัะณะฐะผะธ\nโข ะฃะฟัะฐะฒะปะตะฝะธะต ะฐะบัะธัะผะธ\nโข ะะฐัััะปะบะธ\nโข ะฃะฟัะฐะฒะปะตะฝะธะต ะบะฝะพะฟะบะฐะผะธ', 'admin', 5, 0, TRUE)
ON CONFLICT (button_text) DO NOTHING;
